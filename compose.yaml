services:
  bank-import-bmo:
    <<: &bank-import
      build:
        context: .
        dockerfile: Dockerfile
      volumes:
        - ./traces:/app/traces
      env_file: .env
      restart: no
    environment:
      BANK: bmo
    command: ["python", "src/index.py"]

  bank-import-tangerine:
    <<: *bank-import
    environment:
      BANK: tangerine
    command: ["python", "src/index.py"]

  bank-import-manulife-bank:
    <<: *bank-import
    environment:
      BANK: manulife-bank
    command: ["python", "src/index.py"]

  bank-import-rogers-bank:
    <<: *bank-import
    environment:
      BANK: rogers-bank
    command: ["python", "src/index.py"]
